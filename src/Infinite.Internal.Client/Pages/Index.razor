@page "/"
@using System.Security.Claims

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<MudText Typo="Typo.h6">Claims</MudText>

@if (_claims is not null)
{
    foreach (var claim in _claims)
    {
        <MudText Typo="Typo.body1">@claim.Type : @claim.Value</MudText>
    }
}

@code
{
    private List<Claim> _claims;

    protected override async Task OnInitializedAsync()
    {
        var user = (await AuthenticationStateProvider.GetAuthenticationStateAsync()).User;
        _claims = user.Claims.ToList();
        await base.OnInitializedAsync();
    }
}
